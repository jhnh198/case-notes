<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
  <script src="script.js" type="module" defer></script>
  <script src="https://cdn.tiny.cloud/1/2t189cmhjlsxjvpggb4e3vwlpn7ogeao4rv5b2v58fnuxpar/tinymce/7/tinymce.min.js" referrerpolicy="origin"></script>

  <script src="./data/InitialCheckboxData.js" type="module" ></script>
  <script src="./tools/utils.js" defer ></script>
  <link rel="stylesheet" href="styles.css">
  <title>Note Builder Tools</title>
</head>

<body>
    <nav>
      <button id="note-nav-button" onClick="showHideTools(this.id)" class="nav-button">
        Note Builder
      </button>
      <button id="tools-nav-button" onClick="showHideTools(this.id)" class="nav-button">
        Tools
      </button>
    </nav>

  <div class="notes-main-section">
    <!-- area for case text field and issue/troubleshooting/recommended next steps -->
    <main class="template-builder-main">

      <div id="info-collapse-div" data-collapse="info-fields-div" class="collapse-div">
        <h2> Info </h2>
        <img z-index="1" class="collapse-button" data-collapse="info-fields-div" src="./images/chevron_down.png">
      </div>

      <div id="info-fields-div" class="info-fields-div">
        <div>
          <label for="first-name-input"> First Name: </label>
          <input class="info-fields-input" type="text" id="first-name-input" name="first-name-input" data-category="info-fields">  
        </div>

        <div>
          <label for="last-name-input"> Last Name: </label>
          <input class="info-fields-input"type="text" id="last-name-input" name="last-name-input" data-category="info-fields">
        </div>

        <div>
          <label for="company-id-input"> Company ID: </label>
          <input class="info-fields-input" type="text" id="company-id-input" name="company-id-input" data-category="info-fields">
        </div>

        <div>
          <label for="truck-number-input"> Truck Number: </label>
          <input class="info-fields-input" type="text" id="truck-number-input" name="truck-number-input" data-category="info-fields">  
        </div>

        <div>
          <label for="phone-number-input"> Phone Number: </label>
          <input class="info-fields-input" type="text" id="phone-number-input" name="phone-number-input" data-category="info-fields">
        </div>

        <div>
          <label for="email-input"> E-mail: </label>
          <input class="info-fields-input" type="text" id="email-input" name="email-input" data-category="info-fields">
        </div>

      </div>

      <details>
        <summary id="template-collapse-div" class="collapse-div" data-collapse="template-checkboxes">
          <h2> Issues </h2>
        </summary>
      <div id="issue-checkboxes" class="details-content">
        <div>
          <input type="checkbox" id="display-disconnect" name="display-disconnect" value="Display Disconnected From OBC" data-category="issue">
          <label for="display-disconnect"> Display disconnect </label><br>
        </div>
        <div>
          <input type="checkbox" id="otap-pdr" name="otap-pdr" value="OTAP/PDR Request to Unit" data-category="issue">
          <label for="otap-pdr"> OTAP/PDR </label><br>
        </div>
        <div>
          <input type="checkbox" id="no-gps" name="no-gps" value="GPS is not updating" data-category="issue">
          <label for="no-gps"> No GPS </label><br>
        </div>
        <div>
          <input type="checkbox" id="no-ecm" name="no-ecm" value="Unit is not getting engine data" data-category="issue">
          <label for="no-ecm"> No ECM </label><br>
        </div>
        <div>
          <input type="checkbox" id="no-cell" name="no-cell" value="OBC Is Not Updating Logs or GPS" data-category="issue">
          <label for="no-cell"> No Cell </label><br>
        </div>
        <div>
          <input type="checkbox" id="no-wifi" name="no-wifi" value="Wifi disconnect, display cannot connect to OBC" data-category="issue">
          <label for="no-wifi"> No Wifi </label><br>
        </div>
        <div>
          <input type="checkbox" id="no-power" name="no-power" value="No power to OBC" data-category="issue">
          <label for="no-power"> No Power </label><br>
        </div>
        <div>
          <input type="checkbox" id="log-incorrect" name="log-incorrect" value="Log is incorrect for driver" data-category="issue">
          <label for="log-incorrect"> Log Is Incorrect </label><br>
        </div>
        <div>
          <input type="checkbox" id="unable-reach-host" name="unable-reach-host" value="Unable to reach host" data-category="issue">
          <label for="unable-reach-host"> Unable to reach host </label><br>
        </div>
        <div>
          <input type="checkbox" id="dsn-pending-new" name="dsn-pending-new" value="Add New DSN To Pending / OTAP OBC to Current" data-category="issue">
          <label for="dsn-pending-new"> New DSN To Pending </label><br>
        </div>
        <div>
          <input type="checkbox" id="dsn-pending-active" name="dsn-pending-active" value="DSN: to Pending from active truck" data-category="issue">
          <label for="dsn-pending-active"> DSN To Pending Active </label><br>
        </div>
        <div>
          <input type="checkbox" id="dsn-sister-cid-transfer" name="dsn-sister-cid-transfer" value="DSN Transfer to sister CID" data-category="issue">
          <label for="dsn-sister-cid-transfer"> DSN: Sister CID Transfer </label><br>
        </div>
        <div>
          <input type="checkbox" id="login-invalid-credentials" name="login-invalid-credentials" value="" data-category="issue">
          <label for="login-invalid-credentials"> Login: Invalid Credentials </label><br>
        </div>
        <div>
          <input type="checkbox" id="login-aobrd" name="login-aobrd" value="AOBRD Login Screen" data-category="issue">
          <label for="login-aobrd"> Login: AOBRD Screen </label><br>
        </div>
        <div>
          <input type="checkbox" id="login-old-version" name="login-old-version" value="Unable to login due to old version that is incompatible with seconds precision." data-category="issue">
          <label for="login-old-version"> Login: Seconds Precision </label><br>
        </div>
        <div>
          <input type="checkbox" id="login-hang-requesting-logs" name="login-hang-requesting-logs" value="Device Hangs On Requesting Logs Until Device Provides Option To Stop" data-category="issue">
          <label for="login-hang-requesting-logs"> Login Hangs on Requesting Logs </label><br>
        </div>
        <div>
          <input type="checkbox" id="logout-invalid-password" name="logout-invalid-password" value="Driver attempted to log out and is being prompted for driver password" data-category="issue">
          <label for="logout-invalid-password"> Logout: Invalid Password </label><br>
        </div>
        <div>
          <input type="checkbox" id="installation-assistance" name="installation-assistance" value="Assist user with paring display to OBC" data-category="issue">
          <label for="installation-assistance"> Installation Assistance </label><br>
        </div>
        <div>
          <input type="checkbox" id="installation-howto" name="installation-howto" value="How To Pair Display to OBC" data-category="issue">
          <label for="installation-howto"> Installation: How-To </label><br>
        </div>
        <div>
          <input type="checkbox" id="instinct-change-vid" name="instinct-change-vid" value="Change vehicle number with Instinct" data-category="issue">
          <label for="instinct-change-vid"> Instinct: Change VID </label><br>
        </div>
        <div>
          <input type="checkbox" id="smd-trips-present" name="smd-trips-present" value="SMD: Trips Present After Completion" data-category="issue">
          <label for="smd-trips-present"> SMD: Trips Still Present </label><br>
        </div>
        <div>
          <input type="checkbox" id="smd-failed-launch-troubleshooting" name="smd-failed-launch-troubleshooting" value="SMD App is not opening normally" data-category="issue">
          <label for="smd-failed-launch-troubleshooting"> SMD: Failed To Launch </label><br>
        </div>
        <div>
          <input type="checkbox" id="dvr-pairing-troubleshooting" name="dvr-pairing-troubleshooting" value="DVR Pairing Troubleshooting" data-category="issue">
          <label for="dvr-pairing-troubleshooting"> DVR Pairing </label><br>
        </div>
        <div>
          <input type="checkbox" id="drivewyze-activation" name="drivewyze-activation" value="Drivewyze Activation" data-category="issue">
          <label for="drivewyze-activation"> Drivewyze Activation </label><br>
        </div>
        <div>
          <input type="checkbox" id="log-incorrect-time" name="log-incorrect-time" value="" data-category="issue">
          <label for="log-incorrect-time"> Logs: Incorrect Time </label><br>
        </div>
        <div>
          <input type="checkbox" id="log-edit-correction" name="log-edit-correction" value="" data-category="issue">
          <label for="log-edit"> Log Edit: Correction </label><br>
        </div>
        <div>
          <input type="checkbox" id="log-auto-drive-edit" name="log-auto-drive-edit" value="Logs show driver on drive and the driver says that the drive time is incorrect. " data-category="issue">
          <label for="log-auto-drive-edit"> Log Edit: Auto Drive Time </label><br>
        </div>
        <div>
          <input type="checkbox" id="log-no-time" name="log-no-time" value="No drive time after coming from break" data-category="issue">
          <label for="log-no-time"> Log: No Time </label><br>
        </div>
      </div>
      </details>

      <div id="troubleshooting-collapse-div" class="collapse-div" data-collapse="troubleshooting-checkboxes" >
        <h2> Troubleshooting </h2>
        <img z-index="1" class="collapse-button" data-collapse="troubleshooting-checkboxes" src="./images/chevron_down.png">
      </div>

      <div id="troubleshooting-checkboxes" class="checkbox-div">
        <div>
          <input type="checkbox" id="reboot-display" name="reboot-display" value="Rebooted display" data-category="troubleshooting">
          <label for="reboot-display"> Reboot Display </label><br>
        </div>
        <div>
          <input type="checkbox" id="cell-active" name="cell-active" value="Cell is active in Simetric" data-category="troubleshooting">
          <label for="cell-active"> Cell Active </label><br>
        </div>
        <div>
          <input type="checkbox" id="reinstall" name="reinstall" value="Ran a reinstall on the display" data-category="Troubleshooting">
          <label for="reinstall"> Re-install </label><br>
        </div>
        <div>
          <input type="checkbox" id="cycle-power" name="cycle-power" value="Sent cycle power to OBC" data-category="troubleshooting">
          <label for="cycle-power"> Cycle Power </label><br>
        </div>
        <div>
          <input type="checkbox" id="test-message" name="test-message" value="Sent test message to unit" data-category="troubleshooting">
          <label for="test-message"> Test Message </label><br>
        </div>
        <div>
          <input type="checkbox" id="truck-running" name="truck-running" value="Truck is running and outside" data-category="troubleshooting">
          <label for="truck-running"> Truck Running </label><br>
        </div>
        <div>
          <input type="checkbox" id="wifi-active" name="wifi-active" value="Wifi is broadcasting from the OBC and shows up on nearby wireless networks." data-category="troubleshooting">
          <label for="wifi-active"> Wi-fi Active </label><br>
        </div>
        <div>
          <input type="checkbox" id="driver-active" name="driver-active" value="Driver is active in the CID." data-category="troubleshooting">
          <label for="driver-active"> Driver Active </label><br>
        </div>
        <div>
          <input type="checkbox" id="eld-active" name="eld-active" value="ELD is active for the truck." data-category="troubleshooting">
          <label for="eld-active"> Driver Active </label><br>
        </div>
        <div>
          <input type="checkbox" id="reprovision" name="reprovision" value="Went through manual reprovision process." data-category="troubleshooting">
          <label for="reprovision"> Reprovision Device </label><br>
        </div>
        <div>
          <input type="checkbox" id="force-stop" name="force-stop" value="Force stopped applications on display" data-category="troubleshooting">
          <label for="force-stop"> Force Stop </label><br>
        </div>
        <div>
          <input type="checkbox" id="check-permissions" name="check-permissions" value="Check application permissions on display and ensure all allowed." data-category="troubleshooting">
          <label for="check-permissions"> Check App Permissions </label><br>
        </div>
        <div>
          <input type="checkbox" id="error-message" name="error-message" value="Error message came up when attempting to " data-category="troubleshooting">
          <label for="error-message"> Error Message </label><br>
        </div>
        <div>
          <input type="checkbox" id="check-power-log" name="check-power-log" value="Checked power log for abnormal log entries or errors." data-category="troubleshooting">
          <label for="check-power-log"> Check Power Log </label><br>
        </div>
        <div>
          <input type="checkbox" id="check-gps-log" name="check-power-log" value="Checked GPS log for time and location of recent breadcrumbs." data-category="troubleshooting">
          <label for="check-GPS-log"> Check GPS Log </label><br>
        </div>
        <div>
          <input type="checkbox" id="pull-power" name="pull-power" value="Pulled power to OBC for 2 minutes" data-category="troubleshooting">
          <label for="pull-power"> Pull Power </label><br>
        </div>
        <div>
          <input type="checkbox" id="check-placement" name="check-placement" value="Checked antenna and OBC placement" data-category="troubleshooting">
          <label for="check-placement"> Check Antenna/OBC Placement </label><br>
        </div>
        <div>
          <input type="checkbox" id="check-connections" name="check-connections" value="Checked for loose or disconnected cables" data-category="troubleshooting">
          <label for="check-connections"> Check Connections </label><br>
        </div>
        <div>
          <input type="checkbox" id="check-ground" name="check-ground" value="Checked cabling for proper voltage and ground" data-category="troubleshooting">
          <label for="check-ground"> Check Ground </label><br>
        </div>
        <div>
          <input type="checkbox" id="check-ignition" name="check-ignition" value="Confirmed ignition shows on when truck engine is running." data-category="troubleshooting">
          <label for="check-ignition"> Check Ignition </label><br>
        </div>
        <div>
          <input type="checkbox" id="check-airplane" name="check-airplane" value="Checked display airplane mode setting" data-category="troubleshooting">
          <label for="check-airplane"> Check Ground </label><br>
        </div>
        <div>
          <input type="checkbox" id="login-add-user" name="login-add-user" value="Driver logged out and logged back in with 'Add User' option." data-category="troubleshooting">
          <label for="login-add-user"> Check Ground </label><br>
        </div>
        <div>
          <input type="checkbox" id="check-clock" name="check-clock" value="Time is correct on display." data-category="troubleshooting">
          <label for="check-clock"> Check Display Clock </label><br>
        </div>
        <div>
          <input type="checkbox" id="request-logs" name="request-logs" value="Requested logs from ELD Home Screen." data-category="troubleshooting">
          <label for="request-logs"> Request Logs </label><br>
        </div>
        <div>
          <input type="checkbox" id="correct-logs-troubleshooting" name="correct-logs-troubleshooting" value="Showed driver where to go to edit logs and driver is able to make the correction." data-category="troubleshooting">
          <label for="correct-logs-troubleshooting"> Make Log Correction </label><br>
        </div>
        <div>
          <input type="checkbox" id="unable-edit-logs" name="unable-edit-logs" value="Driver is unable to edit the logs." data-category="troubleshooting">
          <label for="unable-edit-logs"> Unable to Edit Logs </label><br>
        </div>
        <div>
          <input type="checkbox" id="truck-ymm" name="truck-ymm" value="Truck Year/ Make/ Model: " data-category="troubleshooting">
          <label for="truck-ymm"> Year/Make/Model </label><br>
        </div>
        <div>
          <input type="checkbox" id="" name="" value="" data-category="troubleshooting">
          <label for="">  </label><br>
        </div>
      </div>

      <div id="recommended-collapse-div" class="collapse-div" data-collapse="recommended-checkboxes">
        <h2>Recommended Next Steps </h2>
        <img z-index="1" class="collapse-button" data-collapse="recommended-checkboxes" src="./images/chevron_down.png">
      </div>

      <div id="recommended-checkboxes" class="checkbox-div">   
        <div>
          <input type="checkbox" id="recommend-pull-power" name="recommend-pull-power" value="Pull Power to OBC" data-category="recommended">
          <label for="recommend-pull-power"> Pull power to OBC </label><br>
        </div>
        <div>
          <input type="checkbox" id="check-cabling" name="check-cabling" value="Check wiring to OBC for proper voltage and ground. Ensure cabling is not damaged or loose." data-category="recommended">
          <label for="check-cabling"> Check cabling </label><br>
        </div>
        <div>
          <input type="checkbox" id="contact-company-log-edit" name="contact-company-log-edit" value="Contact Company Safety or DOT for log edits or unsure about log times and HOS regulations." data-category="recommended">
          <label for="contact-company-log-edit"> Contact Company: Log Edit </label><br>
        </div>
        <div>
          <input type="checkbox" id="swap-obc" name="swap-obc" value="Swap OBC with known working OBC" data-category="recommended">
          <label for="swap-obc"> Swap OBC </label><br>
        </div>
        <div>
          <input type="checkbox" id="swap-display" name="swap-display" value="Swap display with known working display" data-category="recommended">
          <label for="swap-display"> Swap Display </label><br>
        </div>
        <div>
          <input type="checkbox" id="reset-password" name="reset-password" value="Contact company for password reset" data-category="recommended">
          <label for="reset-password"> Password Reset </label><br>
        </div>     
      </div>
    </main>

  <section class="text-field-section">
    <div id="text-field-controls">
      <div id="content-copied-notification" class="content-copied-notification"> Copied Notes To Clipboard </div>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="copy-icon" id="copy-icon">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z" />
      </svg>

      <div>
        <label class="template-dropdown-label" for="template-dropdown">Templates: </label>
        <select name="template-dropdown" id="template-dropdown">
          <option disabled></option>
          <option disabled>-- Login Issues --</option>
          <option value="unable-to-reach-host-template">Unable to Reach Host</option>
          <option value="login-hang-requesting-logs-template">Login Hangs on Requesting Logs</option>
          <option value="login-invalid-credentials-template">Login: Invalid Credentials</option>
          <option value="logout-invalid-password-template">Logout Password Prompt</option>
          <option value="login-old-version-template">Login: Seconds Precision</option>
          <option value="login-aobrd-template">Login: AOBRD Login</option>       
          
          <option disabled></option>
          <option disabled>-- Installation --</option>
          <option value="dsn-pending-new-template">New DSN To Pending</option>
          <option value="dsn-pending-active-template">Active DSN To Pending</option>
          <option value="otap-template"> OTAP </option>
          <option value="dsn-sister-cid-transfer-template">DSN Move to Sister CID</option>
          <option value="installation-assistance-template">Installation Assistance</option>
          <option value="dvr-pairing-troubleshooting-template">DVR Pairing</option>
          <option value="instinct-change-vid-template">Instinct: Change VID</option>
          <option value="installation-howto-template">Installation: How To</option>

          <option disabled></option>
          <option disabled>-- Requirements --</option>
          <option value="display-disconnect-template">Display Disconnect</option>
          <option value="no-cell-troubleshooting-template">No Cell</option>
          <option value="no-ecm-troubleshooting-template">No ECM</option>
          <option value="no-power-troubleshooting-template">No Power</option>
          <option value="no-gps-troubleshooting-template">No GPS</option>
          <option value="no-wifi-troubleshooting-template">No Wifi</option>

          <option disabled></option>
          <option disabled>-- Log Issues --</option>
          <option value="log-edit-template">Log Edit</option>
          <option value="log-no-time-template">Log: No Time</option>
          <option value="log-auto-drive-edit-template">Log Auto Drive Edit</option>
          <option value="log-incorrect-time-template">Log Incorrect Time</option>

          <option disabled></option>
          <option disabled>-- SMD Issues --</option>
          <option value="smd-failed-launch-troubleshooting-template">SMD Failed to Launch</option>
          <option value="smd-trips-present-template">SMD Trips Still Present</option>
        </select>
      </div>
    </div>
      <h2 class="case-notes-header"> Case Notes </h2>
      <textarea contenteditable="true" maxlength="2000" rows="15" cols="80" id="case-notes-div"></textarea>

      <h2 class="case-notes-header"> Additional Notes </h2>
      <textarea contenteditable="true" id="additional-notes-text-field" class="editable"></textarea>
    </section>
  </div>

  <!-- add a copy button for this -->
  <section class="tools">
      <h2> Comma Insertion </h2>
      <label for="comma-insertion-input-text"> Enter DSN's </label><br>
      <textarea id="comma-insertion-input-text" rows="15" cols="60" name="comma-insertion-input-text" class="comma-insertion-input-text"></textarea><br>
      
      <button id="comma-insertion-button"> Insert Commas and Filter DSN </button><br>

      <textarea id="comma-insertion-output-area" rows="15" cols="80" class="comma-insertion-output-area"></textarea>
  </section>
</body>
</html>